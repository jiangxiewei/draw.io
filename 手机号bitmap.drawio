<mxfile host="drawio-plugin" modified="2022-01-20T03:09:19.666Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36" etag="1NO9d_pomUDYFC2brlfo" version="15.5.4" type="embed"><diagram id="9Cg6CEYuUnxfW0W0LF9c" name="Page-1"><mxGraphModel dx="1048" dy="811" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="850" pageHeight="1100" background="#F4F1DE" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=-90;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" parent="1" vertex="1"><mxGeometry x="197.5" y="160" width="30" height="50" as="geometry"/></mxCell><mxCell id="6" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=5;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" parent="1" vertex="1"><mxGeometry x="72.5" y="140" width="720" height="20" as="geometry"/></mxCell><mxCell id="8" value="" style="shape=partialRectangle;whiteSpace=wrap;html=1;top=0;bottom=0;fillColor=none;strokeColor=#E07A5F;fontColor=#393C56;" parent="1" vertex="1"><mxGeometry x="72.5" y="160" width="720" height="20" as="geometry"/></mxCell><mxCell id="9" value="0" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontColor=#393C56;" parent="1" vertex="1"><mxGeometry x="57.5" y="165" width="40" height="40" as="geometry"/></mxCell><mxCell id="10" value="999 9999 9999" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontColor=#393C56;" parent="1" vertex="1"><mxGeometry x="622.5" y="170" width="170" height="40" as="geometry"/></mxCell><mxCell id="52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=#F4F1DE;strokeColor=#E07A5F;fontColor=#393C56;" edge="1" parent="1" source="11" target="50"><mxGeometry relative="1" as="geometry"><mxPoint x="376" y="376" as="targetPoint"/></mxGeometry></mxCell><mxCell id="53" value="映射生成的bitmap分区" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#F4F1DE;fontColor=#393C56;" vertex="1" connectable="0" parent="52"><mxGeometry x="-0.2466" y="1" relative="1" as="geometry"><mxPoint x="19" y="34" as="offset"/></mxGeometry></mxCell><mxCell id="11" value="1xx xxxx xxxx" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontColor=#393C56;" parent="1" vertex="1"><mxGeometry x="115" y="198" width="195" height="27" as="geometry"/></mxCell><mxCell id="15" value="实际可能分布" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontColor=#393C56;" parent="1" vertex="1"><mxGeometry x="25" y="91" width="157.5" height="40" as="geometry"/></mxCell><mxCell id="16" value="bitmap缓存分区" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontColor=#393C56;" parent="1" vertex="1"><mxGeometry x="25" y="267" width="184.5" height="40" as="geometry"/></mxCell><mxCell id="17" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;sketch=1;" parent="1" vertex="1"><mxGeometry x="187.5" y="140" width="50" height="20" as="geometry"/></mxCell><mxCell id="18" value="" style="shape=table;html=1;whiteSpace=wrap;startSize=0;container=1;collapsible=0;childLayout=tableLayout;sketch=0;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" parent="1" vertex="1"><mxGeometry x="65" y="387" width="872" height="40" as="geometry"/></mxCell><mxCell id="19" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#E07A5F;fontColor=#393C56;" parent="18" vertex="1"><mxGeometry width="872" height="40" as="geometry"/></mxCell><mxCell id="38" value="index_0" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=#E07A5F;fontColor=#393C56;" parent="19" vertex="1"><mxGeometry width="67" height="40" as="geometry"><mxRectangle width="67" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="20" value="index_1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=#E07A5F;fontColor=#393C56;" parent="19" vertex="1"><mxGeometry x="67" width="67" height="40" as="geometry"><mxRectangle width="67" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="21" value="..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=#E07A5F;fontColor=#393C56;" parent="19" vertex="1"><mxGeometry x="134" width="68" height="40" as="geometry"><mxRectangle width="68" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="31" value="..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=#E07A5F;fontColor=#393C56;" parent="19" vertex="1"><mxGeometry x="202" width="68" height="40" as="geometry"><mxRectangle width="68" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="32" value="..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=#1ba1e2;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontColor=#030303;strokeColor=#006EAF;sketch=1;" parent="19" vertex="1"><mxGeometry x="270" width="67" height="40" as="geometry"><mxRectangle width="67" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="33" value="index_1634" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=#1ba1e2;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontColor=#030303;strokeColor=#006EAF;sketch=1;shadow=0;" parent="19" vertex="1"><mxGeometry x="337" width="66" height="40" as="geometry"><mxRectangle width="66" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="34" value="..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=#1ba1e2;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontColor=#030303;strokeColor=#006EAF;sketch=1;" parent="19" vertex="1"><mxGeometry x="403" width="67" height="40" as="geometry"><mxRectangle width="67" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="35" value="..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=#E07A5F;fontColor=#393C56;" parent="19" vertex="1"><mxGeometry x="470" width="67" height="40" as="geometry"><mxRectangle width="67" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="36" value="..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=#E07A5F;fontColor=#393C56;" parent="19" vertex="1"><mxGeometry x="537" width="67" height="40" as="geometry"><mxRectangle width="67" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="37" value="..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=#E07A5F;fontColor=#393C56;" parent="19" vertex="1"><mxGeometry x="604" width="68" height="40" as="geometry"><mxRectangle width="68" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="39" value="..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=#E07A5F;fontColor=#393C56;" parent="19" vertex="1"><mxGeometry x="672" width="66" height="40" as="geometry"><mxRectangle width="66" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="40" value="..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=#E07A5F;fontColor=#393C56;" parent="19" vertex="1"><mxGeometry x="738" width="67" height="40" as="geometry"><mxRectangle width="67" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="41" value="..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=#E07A5F;fontColor=#393C56;" parent="19" vertex="1"><mxGeometry x="805" width="67" height="40" as="geometry"><mxRectangle width="67" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="50" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;rotation=90;size=0.5;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="1"><mxGeometry x="406" y="252" width="58" height="199" as="geometry"/></mxCell><mxCell id="69" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.424;entryY=-0.025;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;labelBackgroundColor=#F4F1DE;strokeColor=#E07A5F;fontColor=#393C56;" edge="1" parent="1" source="54" target="19"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="413" y="463"/><mxPoint x="356" y="463"/><mxPoint x="356" y="362"/><mxPoint x="435" y="362"/></Array></mxGeometry></mxCell><mxCell id="71" value="hash映射&lt;br&gt;index: 1634&lt;br&gt;offset: 4125639" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#F4F1DE;fontColor=#393C56;" vertex="1" connectable="0" parent="69"><mxGeometry x="-0.5855" y="8" relative="1" as="geometry"><mxPoint x="5" y="27" as="offset"/></mxGeometry></mxCell><mxCell id="54" value="手机号: 13711111111" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=1;align=center;pointerEvents=1;sketch=1;fillColor=none;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="1"><mxGeometry x="210.8" y="562" width="443.4" height="124" as="geometry"/></mxCell><mxCell id="55" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=1;fillColor=none;top=0;left=0;bottom=1;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="54"><mxGeometry y="30" width="443.4" height="30" as="geometry"/></mxCell><mxCell id="56" value="二进制" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;sketch=1;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="55"><mxGeometry width="178" height="30" as="geometry"><mxRectangle width="178" height="30" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="57" value="0000 0000 0000 0000 0000 0000 0000 0011 0011 0001 0011 1110 1111 0011 1100 0111" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;pointerEvents=1;sketch=1;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="55"><mxGeometry x="178" width="265" height="30" as="geometry"><mxRectangle width="265" height="30" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="58" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=1;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="54"><mxGeometry y="60" width="443.4" height="30" as="geometry"/></mxCell><mxCell id="59" value="截取高位(&amp;gt;23位)作hash_index" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;sketch=1;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="58"><mxGeometry width="178" height="30" as="geometry"><mxRectangle width="178" height="30" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="60" value="二进制:&amp;nbsp; 0011 0011 0001 0&lt;br&gt;十进制表示: 1634" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;pointerEvents=1;sketch=1;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="58"><mxGeometry x="178" width="265" height="30" as="geometry"><mxRectangle width="265" height="30" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="61" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;collapsible=0;dropTarget=0;pointerEvents=1;fillColor=none;top=0;left=0;bottom=0;right=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;sketch=1;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="54"><mxGeometry y="90" width="443.4" height="30" as="geometry"/></mxCell><mxCell id="62" value="截取低位(&amp;lt;=23位)作offset" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;sketch=1;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="61"><mxGeometry width="178" height="30" as="geometry"><mxRectangle width="178" height="30" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="63" value="二进制: 011 1110 1111 0011 1100 0111&lt;br&gt;十进制表示: 4125639" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;pointerEvents=1;sketch=1;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="61"><mxGeometry x="178" width="265" height="30" as="geometry"><mxRectangle width="265" height="30" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="65" value="" style="group;fontColor=#393C56;" vertex="1" connectable="0" parent="1"><mxGeometry x="19" y="432.25" width="141" height="60" as="geometry"/></mxCell><mxCell id="43" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=-90;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" parent="65" vertex="1"><mxGeometry x="64.75" y="-17.75" width="30" height="65.5" as="geometry"/></mxCell><mxCell id="45" value="0~8388607" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontColor=#393C56;" parent="65" vertex="1"><mxGeometry y="20" width="141" height="40" as="geometry"/></mxCell><mxCell id="66" value="" style="group;fontColor=#393C56;" vertex="1" connectable="0" parent="1"><mxGeometry x="60" y="430.005" width="221" height="86.995" as="geometry"/></mxCell><mxCell id="46" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=-90;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" parent="66" vertex="1"><mxGeometry x="74.19" y="0.8149999999999977" width="64.5" height="62.87" as="geometry"/></mxCell><mxCell id="48" value="8388608~16777215" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontColor=#393C56;" parent="66" vertex="1"><mxGeometry y="46.995000000000005" width="221" height="40" as="geometry"/></mxCell><mxCell id="72" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;labelBackgroundColor=#F4F1DE;strokeColor=#E07A5F;fontColor=#393C56;" edge="1" parent="1" source="67" target="68"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="73" value="此分区包含手机号区间" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=#F4F1DE;fontColor=#393C56;" vertex="1" connectable="0" parent="72"><mxGeometry x="0.1246" y="2" relative="1" as="geometry"><mxPoint x="20" y="-9" as="offset"/></mxGeometry></mxCell><mxCell id="67" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=-90;fillColor=#F2CC8F;strokeColor=#E07A5F;fontColor=#393C56;" vertex="1" parent="1"><mxGeometry x="422.38" y="412.64" width="28.44" height="63.18" as="geometry"/></mxCell><mxCell id="68" value="13706985472 ~ 13715374079" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontColor=#393C56;" vertex="1" parent="1"><mxGeometry x="572" y="474.44" width="336" height="40" as="geometry"/></mxCell><mxCell id="74" value="&lt;ul&gt;&lt;li&gt;每个分区最多占用8*1024*1024=8388608个字节即1M&lt;/li&gt;&lt;li&gt;只有号段存在的index才会生成bitmap分区&lt;/li&gt;&lt;li&gt;截取手机号高位作为index(分区key),低位作为offset&lt;/li&gt;&lt;/ul&gt;" style="text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=0;shadow=0;sketch=0;fontColor=#030303;" vertex="1" parent="1"><mxGeometry x="25" y="285" width="328.5" height="80" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>